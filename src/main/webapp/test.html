<!-- DrugManagement.vue -->
<template>
    <div>
        <h1>药物管理系统</h1>
        <table>
            <thead>
            <tr>
                <th>药物名称</th>
                <th>剂量</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr v-for="(drug, index) in drugs" :key="index">
                <td>{{ drug.name }}</td>
                <td>{{ drug.dosage }}</td>
                <td>
                    <button @click="editDrug(index)">编辑</button>
                    <button @click="deleteDrug(index)">删除</button>
                </td>
            </tr>
            </tbody>
        </table>

        <h2>添加新药物</h2>
        <form @submit.prevent="addDrug">
            <input v-model="newDrug.name" placeholder="药物名称" required />
            <input v-model="newDrug.dosage" placeholder="剂量" required />
            <button type="submit">添加</button>
        </form>
    </div>
</template>

<script>
    export default {
        data() {
            return {
                drugs: [],
                newDrug: {
                    name: '',
                    dosage: ''
                }
            };
        },
        methods: {
            addDrug() {
                this.drugs.push({ ...this.newDrug });
                this.newDrug.name = '';
                this.newDrug.dosage = '';
            },
            editDrug(index) {
                const drug = this.drugs[index];
                this.newDrug = { ...drug };
                this.drugs.splice(index, 1);
            },
            deleteDrug(index) {
                this.drugs.splice(index, 1);
            }
        }
    };
</script>

<style scoped>
    table {
        width: 100%;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: left;
    }
    button {
        margin-right: 5px;
    }
    input {
        margin-right: 5px;
    }
</style>